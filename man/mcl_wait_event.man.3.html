Content-type: text/html

<HTML><HEAD><TITLE>Manpage of MCL_WAIT_EVENT</TITLE>
</HEAD><BODY>
<H1>MCL_WAIT_EVENT</H1>
Section: Misc. Reference Manual Pages (3)<BR>Updated: <BR><A HREF="#index">Index</A>
<A HREF="http://localhost/cgi-bin/man/man2html">Return to Main Contents</A><HR>

<P>
<P>
<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

<P>
mcl_wait_event - wait an event of the MultiCast Library (MCL)
<P>
<P>
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<P>
<P>
<B> #include &quot;../src/common/mcl_lib_api.h&quot;</B><I>
<P>
</I><B> int mcl_wait_event  (int </B><I>id</I><B>, int </B><I>event</I><B>);</B><I>

<P>
</I><A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

<P>
<B>mcl_wait_event</B>

enables the application to sleep until the event specified occurs.
It applies to the current session (identified
by the
<B>id</B>

identifier).
As this function uses polling, it may not be awaken immediately
after that the expected event has occurred.
<P>
The arguments are:
<P>
<DL COMPACT>
<DT><B>int id</B>

<DD>
session identifier returned by
<B>mcl_open</B>

<P>
<DT><B>int event</B>

<DD>
event name.
</DL>
<P>

<P>
The following events are defined:
<DL COMPACT>
<DT><I>MCL_WAIT_EVENT_END_TX:</I>

<DD>
wait the end of transmission of the last symbol of each layer
(which can take quite a long time on the slowest layer).
Only valid with a traffic source.
<P>
<DT><I>MCL_WAIT_EVENT_END_RX:</I>

<DD>
wait the end of reception (i.e. once enough symbols have been
received to decode all objects) or until the MCL session
has received a ``CLOSE'' message from the traffic source.
Only valid at a receiver.
<P>
<DT><I>MCL_WAIT_EVENT_CLOSED:</I>

<DD>
wait untill a
<I>CLOSE</I>

message has been received, meaning that no symbol will ever been
sent for this session.
<P>
Using
<I>MCL_WAIT_EVENT_CLOSED</I>

requires that a
<I>MCL_OPT_NEVER_LEAVE_BASE_LAYER</I>

(see <A HREF="http://localhost/cgi-bin/man/man2html?3+mcl_ctl">mcl_ctl</A>(3) manual) has been issued at the session start.
Indeed,
<I>CLOSE</I>

messages are sent on the base layer and without this option
the receiver leaves the base layer once all objects have been
successfully decoded.
<P>
<P>
</DL>
<A NAME="lbAE">&nbsp;</A>
<H2>RETURN VALUE</H2>

<P>
On success returns 0, on error a non-zero value.
<P>
<P>
<A NAME="lbAF">&nbsp;</A>
<H2>EXAMPLE</H2>

<P>
Here is a simple example.
<P>
<PRE>
        int     err = 0;

        if ((err = mcl_wait_event(id, MCL_WAIT_EVENT_END_TX)) &lt; 0) {
                printf(&quot;ERROR: mcl_wait_event failed);
                exit(-1);
        }
</PRE>

<P>
<P>
<A NAME="lbAG">&nbsp;</A>
<H2>COPYRIGHTS</H2>

<P>
<PRE>
Copyright (c) 1999-2003 INRIA - Universite Paris 6 -
All rights reserved
(main author: Vincent Roca - <A HREF="mailto:vincent.roca@inrialpes.fr">vincent.roca@inrialpes.fr</A>)

This program is free software; you can redistribute it and/or
modify it under the terms of the GNU General Public License
as published by the Free Software Foundation; either version 2
of the License, or (at your option) any later version.
</PRE>

<P>
<P>
<A NAME="lbAH">&nbsp;</A>
<H2>SEE ALSO</H2>

<P>
<B>mcl_open(),</B>

<B>MCL</B>

documentation
<P>
<P>
<A NAME="lbAI">&nbsp;</A>
<H2>AUTHORS</H2>

<P>
Vincent Roca (INRIA Rhone-Alpes, Planete project)
<P>
$Id: mcl_wait_event.man.3,v 1.2 2003/11/28 10:05:31 roca Exp $
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT><A HREF="#lbAE">RETURN VALUE</A><DD>
<DT><A HREF="#lbAF">EXAMPLE</A><DD>
<DT><A HREF="#lbAG">COPYRIGHTS</A><DD>
<DT><A HREF="#lbAH">SEE ALSO</A><DD>
<DT><A HREF="#lbAI">AUTHORS</A><DD>
</DL>
<HR>
This document was created by
<A HREF="http://localhost/cgi-bin/man/man2html">man2html</A>,
using the manual pages.<BR>
Time: 07:30:02 GMT, May 25, 2005
</BODY>
</HTML>
